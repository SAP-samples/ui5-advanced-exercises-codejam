<edmx:Edmx xmlns:edmx="http://docs.oasis-open.org/odata/ns/edmx" Version="4.0">
<edmx:Reference Uri="https://oasis-tcs.github.io/odata-vocabularies/vocabularies/Org.OData.Capabilities.V1.xml">
<edmx:Include Alias="Capabilities" Namespace="Org.OData.Capabilities.V1"/>
</edmx:Reference>
<edmx:Reference Uri="https://sap.github.io/odata-vocabularies/vocabularies/Common.xml">
<edmx:Include Alias="Common" Namespace="com.sap.vocabularies.Common.v1"/>
</edmx:Reference>
<edmx:Reference Uri="https://oasis-tcs.github.io/odata-vocabularies/vocabularies/Org.OData.Core.V1.xml">
<edmx:Include Alias="Core" Namespace="Org.OData.Core.V1"/>
</edmx:Reference>
<edmx:Reference Uri="https://sap.github.io/odata-vocabularies/vocabularies/UI.xml">
<edmx:Include Alias="UI" Namespace="com.sap.vocabularies.UI.v1"/>
</edmx:Reference>
<edmx:Reference Uri="https://oasis-tcs.github.io/odata-vocabularies/vocabularies/Org.OData.Validation.V1.xml">
<edmx:Include Alias="Validation" Namespace="Org.OData.Validation.V1"/>
</edmx:Reference>
<edmx:DataServices>
<Schema xmlns="http://docs.oasis-open.org/odata/ns/edm" Namespace="CatalogService">
<Annotation Term="Core.Links">
<Collection>
<Record>
<PropertyValue Property="rel" String="author"/>
<PropertyValue Property="href" String="https://cap.cloud.sap"/>
</Record>
</Collection>
</Annotation>
<EntityContainer Name="EntityContainer">
<EntitySet Name="Products" EntityType="CatalogService.Products"/>
<EntitySet Name="Ratings" EntityType="CatalogService.Ratings"/>
<FunctionImport Name="getAvgRating" Function="CatalogService.getAvgRating"/>
</EntityContainer>
<EntityType Name="Products">
<Key>
<PropertyRef Name="ID"/>
</Key>
<Property Name="ID" Type="Edm.Int32" Nullable="false"/>
<Property Name="title" Type="Edm.String"/>
<Property Name="category_name" Type="Edm.String"/>
<Property Name="stock" Type="Edm.Int32"/>
<Property Name="position" Type="Edm.String"/>
<Property Name="image" Type="Edm.String"/>
</EntityType>
<EntityType Name="Ratings">
<Key>
<PropertyRef Name="ID"/>
</Key>
<Property Name="ID" Type="Edm.Guid" Nullable="false"/>
<Property Name="createdAt" Type="Edm.DateTimeOffset" Precision="7"/>
<Property Name="createdBy" Type="Edm.String" MaxLength="255"/>
<Property Name="modifiedAt" Type="Edm.DateTimeOffset" Precision="7"/>
<Property Name="modifiedBy" Type="Edm.String" MaxLength="255"/>
<Property Name="rating" Type="Edm.Int32"/>
</EntityType>
<Action Name="createRating" IsBound="true" EntitySetPath="in">
<Parameter Name="in" Type="Collection(CatalogService.Ratings)" Nullable="true"/>
<Parameter Name="rating" Type="Edm.Int32"/>
<ReturnType Type="CatalogService.Ratings"/>
</Action>
<Function Name="getAvgRating" IsBound="false" IsComposable="false">
<ReturnType Type="Edm.Int32"/>
</Function>
<Annotations Target="CatalogService.EntityContainer/Products">
<Annotation Term="Capabilities.DeleteRestrictions">
<Record Type="Capabilities.DeleteRestrictionsType">
<PropertyValue Property="Deletable" Bool="false"/>
</Record>
</Annotation>
<Annotation Term="Capabilities.InsertRestrictions">
<Record Type="Capabilities.InsertRestrictionsType">
<PropertyValue Property="Insertable" Bool="false"/>
</Record>
</Annotation>
<Annotation Term="Capabilities.UpdateRestrictions">
<Record Type="Capabilities.UpdateRestrictionsType">
<PropertyValue Property="Updatable" Bool="false"/>
</Record>
</Annotation>
</Annotations>
<Annotations Target="CatalogService.EntityContainer/Ratings">
<Annotation Term="Capabilities.DeleteRestrictions">
<Record Type="Capabilities.DeleteRestrictionsType">
<PropertyValue Property="Deletable" Bool="false"/>
</Record>
</Annotation>
<Annotation Term="Capabilities.InsertRestrictions">
<Record Type="Capabilities.InsertRestrictionsType">
<PropertyValue Property="Insertable" Bool="false"/>
</Record>
</Annotation>
<Annotation Term="Capabilities.UpdateRestrictions">
<Record Type="Capabilities.UpdateRestrictionsType">
<PropertyValue Property="Updatable" Bool="false"/>
</Record>
</Annotation>
</Annotations>
<Annotations Target="CatalogService.Ratings/ID">
<Annotation Term="Core.ComputedDefaultValue" Bool="true"/>
</Annotations>
<Annotations Target="CatalogService.Ratings/createdAt">
<Annotation Term="UI.HiddenFilter" Bool="true"/>
<Annotation Term="UI.ExcludeFromNavigationContext" Bool="true"/>
<Annotation Term="Core.Immutable" Bool="true"/>
<Annotation Term="Core.Computed" Bool="true"/>
<Annotation Term="Common.Label" String="Created On"/>
</Annotations>
<Annotations Target="CatalogService.Ratings/createdBy">
<Annotation Term="UI.HiddenFilter" Bool="true"/>
<Annotation Term="UI.ExcludeFromNavigationContext" Bool="true"/>
<Annotation Term="Core.Immutable" Bool="true"/>
<Annotation Term="Core.Computed" Bool="true"/>
<Annotation Term="Core.Description" String="User's unique ID"/>
<Annotation Term="Common.Label" String="Created By"/>
</Annotations>
<Annotations Target="CatalogService.Ratings/modifiedAt">
<Annotation Term="UI.HiddenFilter" Bool="true"/>
<Annotation Term="UI.ExcludeFromNavigationContext" Bool="true"/>
<Annotation Term="Core.Computed" Bool="true"/>
<Annotation Term="Common.Label" String="Changed On"/>
</Annotations>
<Annotations Target="CatalogService.Ratings/modifiedBy">
<Annotation Term="UI.HiddenFilter" Bool="true"/>
<Annotation Term="UI.ExcludeFromNavigationContext" Bool="true"/>
<Annotation Term="Core.Computed" Bool="true"/>
<Annotation Term="Core.Description" String="User's unique ID"/>
<Annotation Term="Common.Label" String="Changed By"/>
</Annotations>
<Annotations Target="CatalogService.Ratings/rating">
<Annotation Term="Validation.Minimum" Int="1"/>
<Annotation Term="Validation.Maximum" Int="5"/>
</Annotations>
</Schema>
</edmx:DataServices>
</edmx:Edmx>
